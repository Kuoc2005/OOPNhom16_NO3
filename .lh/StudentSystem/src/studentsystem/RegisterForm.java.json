{
    "sourceFile": "StudentSystem/src/studentsystem/RegisterForm.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1728015578986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1728015578986,
            "name": "Commit-0",
            "content": "package studentsystem;\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\n\r\npublic class RegisterForm extends JFrame {\r\n\r\n    private final JTextField usernameField;\r\n    private final JPasswordField passwordField;\r\n    private ActionEvent _1;\r\n    private ActionEvent _2;\r\n    private ActionEvent _3;\r\n\r\n    public RegisterForm() {\r\n        // Thiết lập giao diện\r\n        setTitle(\"Register Admin\");\r\n        setSize(300, 150);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setLocationRelativeTo(null);\r\n        \r\n        JPanel panel = new JPanel();\r\n        panel.setLayout(null);\r\n        \r\n        JLabel usernameLabel = new JLabel(\"Username:\");\r\n        usernameLabel.setBounds(10, 10, 80, 25);\r\n        panel.add(usernameLabel);\r\n        \r\n        usernameField = new JTextField(20);\r\n        usernameField.setBounds(100, 10, 160, 25);\r\n        panel.add(usernameField);\r\n        \r\n        JLabel passwordLabel = new JLabel(\"Password:\");\r\n        passwordLabel.setBounds(10, 40, 80, 25);\r\n        panel.add(passwordLabel);\r\n        \r\n        passwordField = new JPasswordField(20);\r\n        passwordField.setBounds(100, 40, 160, 25);\r\n        panel.add(passwordField);\r\n\r\n        JButton registerButton = new JButton(\"Register\");\r\n        registerButton.setBounds(100, 80, 100, 25);\r\n        panel.add(registerButton);\r\n        \r\n        // Thêm sự kiện khi nhấn nút đăng ký\r\n        registerButton.addActionListener(this::actionPerformed);\r\n\r\n        add(panel);\r\n    }\r\n    \r\n    // Phương thức mở giao diện đăng nhập sau khi đăng ký thành công\r\n    private void openLoginForm() {\r\n        LoginForm loginForm = new LoginForm();\r\n        loginForm.setVisible(true);\r\n        this.dispose(); // Đóng màn hình đăng ký\r\n    }\r\n\r\n    /**\r\n     * @param _\r\n     */\r\n    private void actionPerformed(final ActionEvent _) {\r\n       \r\n        String username = usernameField.getText();\r\n        String password = new String(passwordField.getPassword());\r\n\r\n        if (username.isEmpty() || password.isEmpty()) {\r\n            JOptionPane.showMessageDialog(null, \"Please enter both username and password\", \"Error\", JOptionPane.ERROR_MESSAGE);\r\n        } else {\r\n            // Lưu thông tin admin vào tệp tin login.txt\r\n            try (FileWriter writer = new FileWriter(\"src/File/login.txt\", true)) { // Mở file và ghi nối\r\n                writer.write(username + \",\" + password + \"\\n\");\r\n                JOptionPane.showMessageDialog(null, \"Registration successful!\");\r\n                openLoginForm(); // Mở giao diện đăng nhập sau khi đăng ký thành công\r\n            } catch (IOException ioException) {\r\n                JOptionPane.showMessageDialog(null, \"Error saving to file\", \"Error\", JOptionPane.ERROR_MESSAGE);\r\n            }\r\n        }\r\n    }\r\n}\r\n"
        }
    ]
}